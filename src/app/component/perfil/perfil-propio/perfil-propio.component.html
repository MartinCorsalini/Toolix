<app-navbar-private></app-navbar-private>

<div class="perfil-container">
  <div class="perfil-box">
    <div class="perfil-header">
      <img [src]="fotoUrl" alt="Foto de perfil" class="perfil-foto">
      <div class="perfil-info">
        <h2>{{ usuario?.nombre }}</h2>

        @if (usuario?.rol != 'Admin') {

          @if(usuario?.rol != 'Cliente')
          {
            <p class="profesion">{{ usuario?.profesion }}</p>

            <div class="perfil-rating">
              <span>Valoración: </span>
              <span>{{ promedio | number:'1.1-1' }}</span>
              <ng-container *ngFor="let star of stars">
                <span *ngIf="star === 1">&#9733;</span>       <!-- Estrella llena -->
                <span *ngIf="star === 0.5">&#x272E;</span>    <!-- Media estrella (estrella de diferente estilo) -->
                <span *ngIf="star === 0">&#9734;</span>       <!-- Estrella vacía -->
              </ng-container>
            </div>

            <div class="perfil-detalles">
              <p><strong>Email:</strong> {{ usuario?.email }}</p>
              <p> <strong>Teléfono:</strong> {{ usuario?.telefono }}</p>

              @if(usuario?.rol != 'Cliente')
                  {
                    <p><strong>Disponibilidad:</strong> {{ usuario?.disponibilidad }}</p>
                  }

              <p><strong>Zona:</strong> {{ usuario?.zona }}</p>
              <p><strong>Descripción:</strong> {{ usuario?.descripcion }}</p>

              <div>
                <button (click)="irAModificar(usuario?.id!)" >Modificar datos</button>
                <button [routerLink]="['/home', usuario?.id]">Atrás</button>

                <button [routerLink]="['/eliminar-cuenta', usuario?.id] ">Eliminar mi cuenta</button>
              </div>

            </div>
          }
        }
        @else {
          <div class="perfil-detalles" >
          <p><strong>Email:</strong> {{ usuario?.email }}</p>

            <button [routerLink]="['/home', usuario?.id]">Atrás</button>
          </div>

        }


      </div>
    </div>


  </div>
</div>
